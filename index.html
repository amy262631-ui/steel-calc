<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    
    <title>鐵材重量計算機 | 鋼鐵手冊與線上試算工具</title>
    <meta name="description" content="全台最專業鋼鐵重量試算工具，涵蓋 H 型鋼、黑鐵板、不鏽鋼、角鐵、管材等 CNS 標準規格。內建損耗率與單價報價功能，工地採購詢價首選。">
    <meta name="keywords" content="鋼鐵重量計算, H型鋼重量, 不鏽鋼重量表, 鋼板試算, 工程估價工具, 鐵材規格">

    <meta property="og:title" content="鋼鐵重量計算機 | 專業工程規格試算">
    <meta property="og:description" content="一鍵計算各式鋼材重量與造價，工地現場與採購必備。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://steel-calc.idv.tw">
    <link rel="canonical" href="https://steel-calc.idv.tw/" />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9184947057660512"
     crossorigin="anonymous"></script>
    
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2163/2163914.png" type="image/x-icon">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .data-card { background: white; border-radius: 1.5rem; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05); }
        body { display: flex; flex-direction: column; min-height: 100vh; font-family: sans-serif; }
        main { flex: 1; }
        .input-group label { display: block; text-transform: uppercase; font-weight: 900; color: #94a3b8; font-size: 0.65rem; margin-bottom: 0.25rem; letter-spacing: 0.05em; }
        .input-field { width: 100%; border: 2px solid #f1f5f9; border-radius: 0.75rem; padding: 0.75rem; outline: none; transition: all 0.3s; font-weight: 700; color: #334155; }
        .input-field:focus { border-color: #3b82f6; }
        @media (max-width: 768px) { .input-field { font-size: 16px; } }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

<main class="py-10 px-4">
    <div class="max-w-6xl mx-auto">
        <header class="text-center mb-10">
            <h1 class="text-3xl font-black text-slate-800 tracking-tight">鐵材重量與採購成本計算機</h1>
           <a href="nesting.html" class="advanced-feature-btn" style="display:inline-block; margin:15px; padding:14px 28px; background: linear-gradient(135deg, #FF8C00 0%, #FF4500 100%); color:white; border-radius:50px; font-weight:900; text-decoration:none; box-shadow: 0 4px 15px rgba(255, 69, 0, 0.4); border: 2px solid white;">
        🚀 節省 15% 損耗！立即使用鐵板/型鋼智慧排料系統(點我)
    </a>
            <p class="text-slate-400 mt-2">符合 CNS 標準之工程實務數據</p>
        </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
    
    <div class="lg:col-span-2 space-y-6">
        <div class="data-card p-8 border border-slate-100">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="input-group">
                     <label>鋼材類別</label>

                            <select id="mainCat" class="input-field" onchange="initSpec()">

                                <optgroup label="板材類">

                                    <option value="IRON_PLATE">黑鐵板 (0.4-50mm)</option>

                                    <option value="SS_PLATE">不鏽鋼板 (0.3-50mm)</option>

                                    <option value="CHECKERED_PLATE">花紋止滑板</option>

                                </optgroup>

                                <optgroup label="網類 / 擴張網">

                                    <option value="EXPANDED_XG">XG 型金屬擴張網</option>

                                </optgroup>

                                <optgroup label="不鏽鋼專區">

                                    <option value="SS_CHANNEL">不鏽鋼槽鐵</option>

                                    <option value="SS_ANGLE_E">不鏽鋼等邊角鐵</option>

                                    <option value="SS_ROUND_BAR">不鏽鋼實心圓條</option>

                                    <option value="ROUND_TUBE_SS">不鏽鋼圓管 (Pipe)</option>

                                </optgroup>

                                <optgroup label="型鋼類 (黑鐵)">

                                    <option value="RH">熱軋H型鋼 (全規格)</option>
                                    <option value="I_BEAM">I 型鋼 (標準規格)</option>

                                    <option value="CHANNEL">黑鐵槽鋼 (溝鐵)</option>

                                    <option value="ANGLE_E">等邊角鋼</option>

                                    <option value="ANGLE_U">不等邊角鋼</option>

                                    <option value="FLAT_BAR">扁鐵 </option>

                                    <option value="C_STEEL">C 型輕型鋼</option>

                                </optgroup>

                                <optgroup label="管材類">

                                    <option value="RECT_TUBE">矩形管 (扁管)</option>

                                    <option value="SQUARE_TUBE">方管</option>

                                    <option value="ROUND_TUBE">圓管</option>

                                </optgroup>

                            </select>

                        </div>
                <div class="input-group">
                    <label>規格尺寸</label>
                    <select id="specSelect" class="input-field" onchange="calculate()"></select>
                </div>
            </div>
            
            <div id="dynamicInputs" class="grid grid-cols-2 md:grid-cols-3 gap-6 mt-8 pt-8 border-t border-slate-50"></div>
            
            <div class="grid grid-cols-2 md:grid-cols-3 gap-6 mt-6">
                <div class="input-group">
                    <label>損耗率 (%)</label>
                    <input type="number" id="valWaste" value="0" class="input-field" oninput="calculate()">
                </div>
                <div class="input-group">
                    <label>單價 (元/kg)</label>
                    <input type="number" id="valPrice" placeholder="輸入單價" class="input-field" oninput="calculate()">
                </div>
                <div class="flex flex-col gap-2">
                    <button onclick="toggleFormulaModal()" class="w-full bg-blue-50 text-blue-600 font-bold py-2 rounded-xl hover:bg-blue-100 transition-all border border-blue-100 text-xs">
                        📖 計算公式說明
                    </button>
                    <button onclick="resetForm()" class="w-full bg-slate-100 text-slate-500 font-bold py-2 rounded-xl hover:bg-slate-200 transition-all text-xs">
                        重置清空
                    </button>
                </div>
            </div>
        </div>

        <div class="bg-slate-800 rounded-2xl p-6 text-white flex justify-around items-center">
            <div class="text-center">
                <p class="text-slate-400 text-[10px] font-bold uppercase mb-1 tracking-widest">單位質量</p>
                <p id="infoUnit" class="text-xl font-mono font-bold text-blue-400">--</p>
            </div>
            <div class="text-center border-l border-slate-700 pl-8">
                <p class="text-slate-400 text-[10px] font-bold uppercase mb-1 tracking-widest">單件預估</p>
                <p id="infoSingle" class="text-xl font-mono font-bold text-emerald-400">--</p>
            </div>
        </div>
    </div>

    <div class="space-y-6">
        <div class="bg-blue-600 rounded-[2.5rem] p-10 text-white shadow-xl flex flex-col items-center justify-center text-center">
            <p class="text-blue-100 font-bold uppercase tracking-widest text-sm mb-4">Total Weight / COST</p>
            <h2 class="text-6xl font-black tracking-tighter mb-1"><span id="resTotal">0.00</span></h2>
            <p class="text-xl font-bold opacity-60 mb-6">KG</p>
            <div class="pt-6 border-t border-blue-500 w-full">
                <p class="text-blue-100 text-sm font-bold mb-1">預估金額 (TWD)</p>
                <h3 class="text-3xl font-black">$ <span id="resPrice">0</span></h3>
            </div>
        </div>

        <div class="space-y-3">
            <button onclick="copyResult()" class="w-full bg-white border border-slate-200 text-slate-700 font-bold py-4 rounded-2xl shadow-sm hover:bg-slate-50 transition-all flex items-center justify-center gap-2">
                📋 複製詳細計算結果
            </button>
            <button onclick="shareToLine()" class="w-full bg-[#06C755] text-white font-bold py-4 rounded-2xl shadow-sm hover:opacity-90 transition-all flex items-center justify-center gap-2">
                 分享結果到 Line
            </button>
        </div>
    </div>

</div>

<div id="formulaModal" class="hidden fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4">
    <div class="bg-white rounded-[2.5rem] p-8 md:p-12 max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative">
        <button onclick="toggleFormulaModal()" class="absolute top-6 right-6 text-slate-400 hover:text-slate-600 text-2xl">✕</button>
        
        <div class="flex items-center gap-4 mb-8">
            <div class="h-8 w-2 bg-blue-600 rounded-full"></div>
            <h3 class="text-2xl font-black text-slate-800">鋼鐵重量理論計算公式</h3>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-slate-50 p-6 rounded-2xl">
                <h4 class="font-bold text-blue-600 mb-3 text-lg">● 鋼板 / 扁鐵</h4>
                <p class="text-sm text-slate-600 leading-relaxed">
                    公式：厚度(mm) × 寬度(m) × 長度(m) × 密度<br>
                    <span class="text-xs text-slate-400">※ 碳鋼密度 7.85 / 不鏽鋼 7.93</span>
                </p>
            </div>
            <div class="bg-slate-50 p-6 rounded-2xl text-slate-600">
                <h4 class="font-bold text-emerald-600 mb-3 text-lg">● 圓管與方管</h4>
                <p class="text-sm">圓管：(外徑 - 厚度) × 厚度 × 0.02466 × 長度(m)</p>
                <p class="text-sm mt-2">方管：(邊長×4 ÷ 3.14 - 厚度) × 厚度 × 0.02466 × 長度(m)</p>
            </div>
            <div class="bg-slate-50 p-6 rounded-2xl">
                <h4 class="font-bold text-orange-600 mb-3 text-lg">● 等邊角鐵</h4>
                <p class="text-sm text-slate-600">公式：[ 邊長 + (邊長 - 厚度) ] × 厚度 × 0.00785 × 長度(m)</p>
            </div>
            <div class="bg-slate-800 p-6 rounded-2xl text-white">
                <h4 class="font-bold text-blue-300 mb-3 text-lg">● H型鋼 / I型鋼 / 槽鐵</h4>
<p class="text-xs text-blue-100 opacity-80 mb-2">I型鋼理論重量計算邏輯：</p>
<p class="text-sm font-mono">[ t1×B×2 + t2×(H-2×t1) ] × 0.00785</p>
<p class="text-xs text-blue-200 mt-2">※ I型鋼翼板具斜度，實務計算多採用 CNS 理論重量表。</p>
            </div>
        </div>
        <div class="mt-8 text-xs text-slate-400 italic">
            ※ 本站規格均對齊 CNS 標準，計算結果僅供預估採購使用。
        </div>
    </div>
</div>

 
<article class="bg-white rounded-[2.5rem] p-10 md:p-16 border border-slate-100 shadow-sm max-w-none">
    <div class="flex items-center gap-4 mb-10 border-b-2 border-slate-50 pb-6">
        <div class="h-10 w-2 bg-blue-600 rounded-full"></div>
        <h3 class="text-3xl font-black text-slate-800">鋼鐵重量計算實務與公式指南</h3>
    </div>
    
    <div class="grid md:grid-cols-2 gap-16 mb-12">
        <section>
            <h4 class="text-xl font-bold text-blue-600 mb-4 flex items-center gap-2">● 鋼材密度與材質差異</h4>
            <p class="text-slate-600 text-lg leading-relaxed">
                工程估價常用密度：<b>碳鋼 (7.85 g/cm³)</b> 與 <b>不鏽鋼 (7.93 g/cm³)</b>。大宗採購時，這 1% 的微小密度差異會導致顯著的噸數誤差，直接影響成本報價。
            </p>
        </section>
        <section>
            <h4 class="text-xl font-bold text-emerald-600 mb-4 flex items-center gap-2">● 為何需要設定「損耗率」？</h4>
            <p class="text-slate-600 text-lg leading-relaxed">
                現場裁切必產生「裁切縫」與「餘料」。通常矩形板材建議設定 <b>3-5%</b>，而 H 型鋼或 C 型鋼受定尺限制，建議設定 <b>5-10%</b> 損耗率以確保備料充足。
            </p>
        </section>
    </div>

    <div class="bg-slate-50 rounded-3xl p-8 mb-10 border border-slate-100">
        <h4 class="font-bold text-slate-800 text-xl mb-6">各類型鋼理論重量計算公式</h4>
        <div class="grid md:grid-cols-3 gap-6 text-sm text-slate-600 font-mono">
            <div class="p-4 bg-white rounded-xl shadow-sm border border-blue-50">
                <p class="font-bold text-blue-600 mb-1 font-sans">等邊角鋼 (L-Angle)</p>
                <p>[邊長+(邊長-厚)]×厚×0.00785</p>
            </div>
            <div class="p-4 bg-white rounded-xl shadow-sm border border-emerald-50">
                <p class="font-bold text-emerald-600 mb-1 font-sans">圓管 (Round Tube)</p>
                <p>(外徑-厚度)×厚度×0.02466</p>
            </div>
            <div class="p-4 bg-white rounded-xl shadow-sm border border-orange-50">
                <p class="font-bold text-orange-600 mb-1 font-sans">H 型鋼 (H-Beam)</p>
                <p>[t1×B×2 + t2×(H-2×t1)]×0.00785</p>
            </div>
        </div>
    </div>

    <div class="bg-slate-50 rounded-3xl p-8">
        <h4 class="font-bold text-slate-800 text-xl mb-6">工程採購常見問答 (FAQ)</h4>
        <div class="space-y-6">
            <details class="group cursor-pointer">
                <summary class="font-bold text-slate-700 text-lg flex justify-between items-center group-open:text-blue-600 transition-colors">
                    Q：計算結果是否包含 CNS 標準公差？
                    <span class="transition-transform group-open:rotate-180">▼</span>
                </summary>
                <p class="mt-4 text-slate-500 leading-relaxed pl-4 border-l-2 border-slate-200">
                    本工具參考 CNS 標準規格，但鋼材出廠可能會有 +/- 10% 的厚度公差，大宗採購仍應以地磅實秤為準。
                </p>
            </details>
        </div>
    </div>
</article>
            </div>
        </div> </div> </main>

    <footer class="bg-white border-t border-slate-200 pt-12 pb-8">
        <div class="max-w-6xl mx-auto px-4 text-slate-600 text-sm">
            <div class="grid md:grid-cols-3 gap-12">
                <div class="space-y-4">
                    <h3 class="font-bold text-slate-800 text-lg">關於鋼鐵試算工具</h3>
                    <p class="leading-relaxed">提供標準化、數位化的重量計算服務，減少翻閱手冊的時間誤差。</p>
                </div>
                <div class="space-y-4">
                    <h3 class="font-bold text-slate-800 text-lg">法律條款</h3>
                    <ul class="space-y-3">
                        <li><a href="privacy.html" class="text-blue-600 hover:underline">隱私權政策 (Privacy Policy)</a></li>
                        <li><a href="terms.html" class="text-blue-600 hover:underline">使用條款與免責聲明</a></li>
                    </ul>
                </div>
                <div class="space-y-4">
                    <h3 class="font-bold text-slate-800 text-lg">聯繫本站</h3>
                    <div class="pt-2">
                        <button onclick="toggleContactModal()" class="inline-flex items-center gap-2 bg-blue-600 text-white hover:bg-blue-700 px-6 py-3 rounded-xl font-bold transition-all shadow-lg">
                            <span>聯絡管理員</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div id="contactModal" class="hidden fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl">
            <h3 class="text-xl font-black text-slate-800 mb-4 text-center">聯繫資訊</h3>
            <div class="bg-slate-50 border-2 border-dashed border-slate-200 p-4 rounded-2xl mb-6 text-center font-mono text-blue-600 font-bold text-lg">
                amy262631@gmail.com
            </div>
            <button onclick="toggleContactModal()" class="w-full bg-slate-800 text-white font-bold py-3 rounded-xl hover:bg-slate-700 transition-all">關閉視窗</button>
        </div>
    </div>

    <script>
        // 控制彈窗
        function toggleContactModal() {
            const modal = document.getElementById('contactModal');
            modal.classList.toggle('hidden');
        }

        function toggleFormulaModal() {
    const modal = document.getElementById('formulaModal');
    modal.classList.toggle('hidden');
}
        // 資料庫
        const DB = {
     "IRON_PLATE": [
    // 薄板系列 (0.4mm - 3.0mm)
    {s:"0.4mm", w:3.14}, {s:"0.5mm", w:3.93}, {s:"0.6mm", w:4.71}, {s:"0.8mm", w:6.28},
    {s:"1.0mm", w:7.85}, {s:"1.2mm", w:9.42}, {s:"1.6mm", w:12.56}, {s:"2.0mm", w:15.70},
    {s:"2.3mm", w:18.06}, {s:"3.0mm", w:23.55},
    
    // 中厚板系列 (4.5mm - 25mm)
    {s:"4.5mm", w:35.33}, {s:"6.0mm", w:47.10}, {s:"8.0mm", w:62.80}, {s:"9.0mm", w:70.65},
    {s:"10mm", w:78.50}, {s:"12mm", w:94.20}, {s:"16mm", w:125.6}, {s:"19mm", w:149.2},
    {s:"22mm", w:172.7}, {s:"25mm", w:196.3},
    
    // 極厚板系列 (28mm - 50mm)
    {s:"28mm", w:219.8}, {s:"32mm", w:251.2}, {s:"36mm", w:282.6}, {s:"40mm", w:314.0},
    {s:"45mm", w:353.3}, {s:"50mm", w:392.5}
],
            // 不鏽鋼板規格 (厚度達 50mm)
    "SS_PLATE": [
        {s:"0.3mm", w:2.38}, {s:"0.4mm", w:3.17}, {s:"0.5mm", w:3.97}, {s:"0.8mm", w:6.34},
        {s:"1.0mm", w:7.93}, {s:"1.2mm", w:9.52}, {s:"1.5mm", w:11.90}, {s:"2.0mm", w:15.86},
        {s:"3.0mm", w:23.79}, {s:"4.0mm", w:31.72}, {s:"6.0mm", w:47.58}, {s:"10mm", w:79.30},
        {s:"12mm", w:95.16}, {s:"25mm", w:198.25}, {s:"50mm", w:396.50}
    ],
            "SS_CHANNEL": [{s:"50x25x5.0", w:3.66}, {s:"75x40x5.0", w:6.92}, {s:"100x50x5.0", w:9.36}, {s:"125x65x6.0", w:13.40}, {s:"150x75x6.5", w:18.60}, {s:"200x80x7.5", w:24.60}, {s:"300x90x9.0", w:38.10}],
            "CHECKERED_PLATE": [
    {s:"2.5mm", w:22.0}, 
    {s:"3.0mm", w:25.9}, 
    {s:"3.2mm", w:27.5}, 
    {s:"4.5mm", w:37.7}, 
    {s:"6.0mm", w:49.5}, 
    {s:"9.0mm", w:73.1}, 
    {s:"12mm", w:96.6}
],
            "EXPANDED_XG": [
    // 輕型系列
    {s:"XG11 (1.2x1.5mm)", w:2.2}, 
    {s:"XG12 (1.6x2.0mm)", w:3.9},
    // 中型系列
    {s:"XG21 (2.3x3.0mm)", w:5.3}, 
    {s:"XG22 (3.2x3.0mm)", w:7.3}, 
    {s:"XG23 (3.2x4.5mm)", w:11.0},
    // 重型系列
    {s:"XG31 (4.5x7.0mm)", w:13.4}, 
    {s:"XG32 (6.0x7.0mm)", w:17.9}, 
    {s:"XG33 (6.0x9.0mm)", w:23.0},
    // 特重型系列
    {s:"XG41 (8.0x9.0mm)", w:30.7}, 
    {s:"XG42 (9.0x9.0mm)", w:34.5}, 
    {s:"XG43 (12x12mm)", w:61.3}
],
            "RH": [
    // 小型規格
    {s:"100x50x5x7", w:9.30}, {s:"125x60x6x8", w:13.2}, {s:"148x100x6x9", w:21.1},
    {s:"150x75x5x7", w:14.0}, {s:"175x90x5x8", w:18.1}, {s:"194x150x6x9", w:30.6},
    {s:"198x99x4.5x7", w:18.2}, {s:"200x100x5.5x8", w:21.3}, {s:"200x200x8x12", w:49.9},

    // 中型規格
    {s:"244x175x7x11", w:44.1}, {s:"248x124x5x8", w:25.7}, {s:"250x125x6x9", w:29.6},
    {s:"250x250x9x14", w:72.4}, {s:"294x200x8x12", w:56.8}, {s:"298x149x5.5x8", w:32.0},
    {s:"300x150x6.5x9", w:36.7}, {s:"300x300x10x15", w:94.0}, {s:"340x250x9x14", w:79.7},
    {s:"346x174x6x9", w:41.4}, {s:"350x175x7x11", w:49.6}, {s:"390x300x10x16", w:107.0},
    {s:"396x199x7x11", w:56.6}, {s:"400x200x8x13", w:66.0}, {s:"400x400x13x21", w:172.0},

    // 大型規格
    {s:"446x199x8x12", w:66.2}, {s:"450x200x9x14", w:76.0}, {s:"496x199x9x14", w:79.5},
    {s:"500x200x10x16", w:89.6}, {s:"582x300x12x17", w:137.0}, {s:"588x300x12x20", w:151.0},
    {s:"596x199x10x15", w:94.6}, {s:"600x200x11x17", w:106.0}, {s:"700x300x13x24", w:185.0},
    {s:"800x300x14x26", w:210.0}, {s:"900x300x16x28", w:243.0}
],
            "I_BEAM": [
    {s:"100 x 75 x 5.0 x 8.0", w:12.9},
    {s:"125 x 75 x 5.5 x 9.5", w:16.1},
    {s:"150 x 75 x 5.5 x 9.5", w:17.1},
    {s:"150 x 125 x 8.5 x 14.0", w:31.5},
    {s:"180 x 100 x 6.0 x 10.0", w:23.6},
    {s:"200 x 100 x 7.0 x 10.0", w:26.0},
    {s:"200 x 150 x 9.0 x 16.0", w:50.4},
    {s:"250 x 125 x 7.5 x 12.5", w:38.3},
    {s:"250 x 125 x 10.0 x 19.0", w:55.5},
    {s:"300 x 150 x 8.0 x 13.0", w:48.3},
    {s:"300 x 150 x 10.0 x 18.5", w:65.5},
    {s:"350 x 150 x 9.0 x 15.0", w:58.5},
    {s:"400 x 150 x 10.0 x 18.0", w:72.0},
    {s:"450 x 175 x 11.0 x 20.0", w:91.7},
    {s:"600 x 190 x 13.0 x 25.0", w:133.0}
],
            "CHANNEL": [
    // 小型與常用規格
    {s:"75x40x5x7", w:6.92}, 
    {s:"100x50x5x7.5", w:9.36}, 
    {s:"125x65x6x8", w:13.4},
    // 中型規格
    {s:"150x75x6.5x10", w:18.6}, 
    {s:"150x75x9x12.5", w:24.0},
    {s:"180x75x7x10.5", w:20.9},
    {s:"200x80x7.5x11", w:24.6}, 
    {s:"200x90x8x13.5", w:30.3},
    // 大型規格
    {s:"250x90x9x13", w:34.6}, 
    {s:"250x90x11x14.5", w:40.2},
    {s:"300x90x9x13", w:38.1}, 
    {s:"300x90x10x15.5", w:43.8},
    {s:"380x100x10.5x16", w:54.5}, 
    {s:"380x100x13x20", w:67.3}
],
           "ANGLE_E": [
    // 小型規格
    {s:"25x25x3", w:1.12}, {s:"30x30x3", w:1.36}, {s:"40x40x3", w:1.83}, {s:"40x40x5", w:2.97},
    // 中型規格
    {s:"50x50x4", w:3.06}, {s:"50x50x5", w:3.77}, {s:"50x50x6", w:4.43}, 
    {s:"65x65x5", w:4.97}, {s:"65x65x6", w:5.91}, {s:"65x65x8", w:7.66},
    {s:"75x75x6", w:6.85}, {s:"75x75x9", w:9.96}, {s:"75x75x12", w:13.0},
    {s:"90x90x7", w:9.59}, {s:"90x90x10", w:13.3}, {s:"90x90x13", w:17.0},
    // 大型規格
    {s:"100x100x7", w:10.7}, {s:"100x100x10", w:14.9}, {s:"100x100x13", w:19.1},
    {s:"125x125x9", w:17.4}, {s:"125x125x12", w:22.7}, {s:"125x125x15", w:27.9},
    {s:"150x150x12", w:27.3}, {s:"150x150x15", w:33.8}, {s:"150x150x19", w:41.9},
    {s:"175x175x12", w:31.8}, {s:"175x175x15", w:39.4}, {s:"200x200x15", w:45.3},
    {s:"200x200x20", w:59.7}, {s:"200x200x25", w:73.6}
],
           "ANGLE_U": [
    // 常用規格
    {s:"75x50x6", w:5.65}, 
    {s:"90x75x6", w:7.54}, {s:"90x75x9", w:11.0},
    {s:"100x75x7", w:9.32}, {s:"100x75x10", w:13.0},
    {s:"125x75x7", w:10.7}, {s:"125x75x10", w:14.9},
    {s:"150x90x9", w:16.4}, {s:"150x90x12", w:21.5},
    {s:"150x100x10", w:19.1}, {s:"150x100x12", w:22.7}
],
            "SS_ANGLE_E": [
    // 小型規格
    {s:"20x20x3", w:0.87}, {s:"25x25x3", w:1.12}, {s:"25x25x4", w:1.45}, {s:"25x25x5", w:1.77},
    {s:"30x30x3", w:1.36}, {s:"30x30x4", w:1.77}, {s:"30x30x5", w:2.16},
    {s:"40x40x3", w:1.83}, {s:"40x40x4", w:2.42}, {s:"40x40x5", w:2.97}, {s:"40x40x6", w:3.51},
    
    // 中型規格
    {s:"50x50x3", w:2.33}, {s:"50x50x4", w:3.06}, {s:"50x50x5", w:3.77}, {s:"50x50x6", w:4.43}, 
    {s:"60x60x5", w:4.57}, {s:"60x60x6", w:5.42},
    {s:"65x65x5", w:4.97}, {s:"65x65x6", w:5.91}, {s:"65x65x8", w:7.66}, {s:"65x65x9", w:8.51},
    {s:"70x70x6", w:6.38}, {s:"75x75x6", w:6.85}, {s:"75x75x9", w:9.96}, {s:"75x75x10", w:11.0},
    
    // 大型規格
    {s:"80x80x6", w:7.34}, {s:"80x80x8", w:9.61}, {s:"80x80x10", w:11.8},
    {s:"90x90x6", w:8.30}, {s:"90x90x9", w:12.2}, {s:"90x90x10", w:13.3},
    {s:"100x100x6", w:9.26}, {s:"100x100x8", w:12.2}, {s:"100x100x10", w:14.9}, {s:"100x100x12", w:17.7}
],
          "FLAT_BAR": [
    // 常用薄與小規格 (3mm - 6mm)
    {s:"3 x 19", w:0.45}, {s:"3 x 25", w:0.59}, {s:"3 x 32", w:0.75}, {s:"3 x 38", w:0.89},
    {s:"4.5 x 25", w:0.88}, {s:"4.5 x 32", w:1.13}, {s:"4.5 x 38", w:1.34}, {s:"4.5 x 50", w:1.77},
    {s:"6 x 19", w:0.89}, {s:"6 x 25", w:1.18}, {s:"6 x 32", w:1.51}, {s:"6 x 38", w:1.79},
    {s:"6 x 50", w:2.36}, {s:"6 x 65", w:3.06}, {s:"6 x 75", w:3.53}, {s:"6 x 100", w:4.71},

    // 中型規格 (9mm - 12mm)
    {s:"9 x 25", w:1.77}, {s:"9 x 32", w:2.26}, {s:"9 x 38", w:2.68}, {s:"9 x 50", w:3.53},
    {s:"9 x 65", w:4.59}, {s:"9 x 75", w:5.30}, {s:"9 x 100", w:7.07}, {s:"9 x 125", w:8.83},
    {s:"12 x 25", w:2.36}, {s:"12 x 32", w:3.01}, {s:"12 x 38", w:3.58}, {s:"12 x 50", w:4.71},
    {s:"12 x 65", w:6.12}, {s:"12 x 75", w:7.07}, {s:"12 x 100", w:9.42}, {s:"12 x 125", w:11.8},
    {s:"12 x 150", w:14.1},

    // 重型厚規格 (16mm - 25mm)
    {s:"16 x 38", w:4.77}, {s:"16 x 50", w:6.28}, {s:"16 x 65", w:8.16}, {s:"16 x 75", w:9.42},
    {s:"16 x 100", w:12.6}, {s:"16 x 125", w:15.7}, {s:"16 x 150", w:18.8},
    {s:"19 x 50", w:7.46}, {s:"19 x 65", w:9.69}, {s:"19 x 75", w:11.2}, {s:"19 x 100", w:14.9},
    {s:"19 x 125", w:18.6}, {s:"19 x 150", w:22.4},
    {s:"25 x 50", w:9.81}, {s:"25 x 65", w:12.8}, {s:"25 x 75", w:14.7}, {s:"25 x 100", w:19.6},
    {s:"25 x 125", w:24.5}, {s:"25 x 150", w:29.4}
],
           "SS_ROUND_BAR": [
    // 極細與小型規格
    {s:"3mm", w:0.056}, {s:"4mm", w:0.099}, {s:"5mm", w:0.154}, {s:"6mm", w:0.222},
    {s:"8mm", w:0.395}, {s:"9mm", w:0.499}, {s:"10mm", w:0.617}, {s:"12mm", w:0.888},
    
    // 中型規格 (英吋換算常用規格)
    {s:"13mm (1/2\")", w:1.04}, {s:"16mm (5/8\")", w:1.58}, {s:"19mm (3/4\")", w:2.23},
    {s:"22mm (7/8\")", w:2.98}, {s:"25mm (1\")", w:3.85}, {s:"28mm", w:4.83},
    {s:"32mm (1-1/4\")", w:6.31}, {s:"35mm", w:7.55}, {s:"38mm (1-1/2\")", w:8.90},
    
    // 大型規格
    {s:"42mm", w:10.9}, {s:"45mm (1-3/4\")", w:12.5}, {s:"50mm (2\")", w:15.4},
    {s:"55mm", w:18.7}, {s:"60mm", w:22.2}, {s:"65mm (2-1/2\")", w:26.0},
    {s:"70mm", w:30.2}, {s:"75mm (3\")", w:34.7}, {s:"80mm", w:39.5},
    {s:"90mm", w:49.9}, {s:"100mm (4\")", w:61.7}
],
           "RECT_TUBE": [
    // 小型與常用扁管
    {s:"30x20x1.6", w:1.14}, {s:"30x20x2.0", w:1.39}, {s:"30x20x2.3", w:1.56},
    {s:"40x20x1.6", w:1.39}, {s:"40x20x2.0", w:1.70}, {s:"40x20x2.3", w:1.92},
    {s:"50x25x1.6", w:1.77}, {s:"50x25x2.0", w:2.17}, {s:"50x25x2.3", w:2.47}, {s:"50x25x3.2", w:3.30},
    {s:"60x30x2.3", w:3.01}, {s:"60x30x3.2", w:4.05},
    {s:"75x45x2.3", w:4.09}, {s:"75x45x3.2", w:5.56},

    // 中型矩形管
    {s:"100x50x2.3", w:5.17}, {s:"100x50x3.2", w:7.06}, {s:"100x50x4.5", w:9.66}, {s:"100x50x6.0", w:12.5},
    {s:"125x75x3.2", w:9.58}, {s:"125x75x4.5", w:13.2}, {s:"125x75x6.0", w:17.2},
    {s:"150x50x3.2", w:9.58}, {s:"150x50x4.5", w:13.2}, {s:"150x50x6.0", w:17.2},
    {s:"150x100x4.5", w:16.7}, {s:"150x100x6.0", w:21.9}, {s:"150x100x9.0", w:31.5},

    // 大型結構矩形管
    {s:"200x100x4.5", w:20.3}, {s:"200x100x6.0", w:26.6}, {s:"200x100x9.0", w:38.5},
    {s:"250x150x6.0", w:36.1}, {s:"250x150x9.0", w:52.7}, {s:"300x200x6.0", w:45.5},
    {s:"300x200x9.0", w:66.8}, {s:"300x200x12", w:87.1}
],
           "SQUARE_TUBE": [
    // 小型常用規格
    {s:"12.7x12.7x1.0", w:0.37}, {s:"16x16x1.2", w:0.56}, {s:"19x19x1.2", w:0.67},
    {s:"25.4x25.4x1.2", w:0.91}, {s:"25.4x25.4x1.6", w:1.20}, {s:"25.4x25.4x2.0", w:1.47},
    {s:"31.8x31.8x1.6", w:1.52}, {s:"31.8x31.8x2.0", w:1.87}, {s:"31.8x31.8x2.3", w:2.12},
    {s:"38.1x38.1x1.6", w:1.84}, {s:"38.1x38.1x2.0", w:2.27}, {s:"38.1x38.1x2.3", w:2.58},
    {s:"50x50x1.6", w:2.45}, {s:"50x50x2.3", w:3.44}, {s:"50x50x3.2", w:4.66},
    {s:"60x60x2.3", w:4.17}, {s:"60x60x3.2", w:5.66},
    {s:"75x75x2.3", w:5.25}, {s:"75x75x3.2", w:7.17}, {s:"75x75x4.5", w:9.82},

    // 中大型結構規格
    {s:"100x100x2.3", w:7.06}, {s:"100x100x3.2", w:9.68}, {s:"100x100x4.5", w:13.4}, {s:"100x100x6.0", w:17.2},
    {s:"125x125x3.2", w:12.2}, {s:"125x125x4.5", w:16.9}, {s:"125x125x6.0", w:21.9}, {s:"125x125x9.0", w:31.5},
    {s:"150x150x4.5", w:20.3}, {s:"150x150x6.0", w:26.6}, {s:"150x150x9.0", w:38.5},
    {s:"175x175x6.0", w:31.3}, {s:"175x175x9.0", w:45.5},
    {s:"200x200x6.0", w:36.1}, {s:"200x200x9.0", w:52.7}, {s:"200x200x12", w:68.5},
    {s:"250x250x6.0", w:45.5}, {s:"250x250x9.0", w:66.8}, {s:"250x250x12", w:87.1},
    {s:"300x300x9.0", w:80.9}, {s:"300x300x12", w:106.0}
],
            "ROUND_TUBE_SS": [
    // 常用裝飾管系列
    {s:"9.5 x 1.0mm", w:0.21}, {s:"12.7 x 1.0mm", w:0.29}, {s:"15.9 x 1.0mm", w:0.37},
    {s:"19.1 x 1.2mm", w:0.54}, {s:"25.4 x 1.2mm", w:0.73}, {s:"31.8 x 1.5mm", w:1.14},
    {s:"38.1 x 1.5mm", w:1.38}, {s:"50.8 x 2.0mm", w:2.45}, {s:"63.5 x 2.0mm", w:3.09},
    {s:"76.2 x 2.0mm", w:3.73}, {s:"101.6 x 3.0mm", w:7.43},

    // 工業配管系列 (A配管)
    {s:"1/4\" (13.7x2.2mm)", w:0.64}, {s:"3/8\" (17.1x2.3mm)", w:0.86},
    {s:"1/2\" (21.3x2.8mm)", w:1.30}, {s:"3/4\" (27.2x2.9mm)", w:1.77},
    {s:"1\" (34.0x3.4mm)", w:2.61}, {s:"1-1/4\" (42.7x3.6mm)", w:3.53},
    {s:"1-1/2\" (48.6x3.7mm)", w:4.17}, {s:"2\" (60.5x3.9mm)", w:5.54},
    {s:"2-1/2\" (76.3x5.2mm)", w:9.27}, {s:"3\" (89.1x5.5mm)", w:11.5},
    {s:"4\" (114.3x6.0mm)", w:16.3}
],
    "C_STEEL": [
    // 小型規格
    {s:"60x30x10x1.6", w:1.63}, {s:"60x30x10x2.3", w:2.25},
    {s:"75x45x15x1.6", w:2.25}, {s:"75x45x15x2.3", w:3.15},
    
    // 中型規格
    {s:"100x50x20x1.6", w:2.81}, {s:"100x50x20x2.3", w:3.96}, {s:"100x50x20x3.2", w:5.36},
    {s:"125x50x20x2.3", w:4.41}, {s:"125x50x20x3.2", w:6.00},
    {s:"150x50x20x2.3", w:4.86}, {s:"150x50x20x3.2", w:6.62},
    {s:"150x65x20x2.3", w:5.40}, {s:"150x65x20x3.2", w:7.37},
    
    // 大型規格
    {s:"200x75x20x2.3", w:6.75}, {s:"200x75x20x3.2", w:9.27},
    {s:"250x75x25x3.2", w:10.8}, {s:"250x75x25x4.5", w:14.9}
],
            "ROUND_TUBE": [
    // 常用結構圓管 (mm 標示)
    {s:"15.9 x 1.2mm", w:0.43}, {s:"19.1 x 1.2mm", w:0.53}, {s:"19.1 x 1.6mm", w:0.69},
    {s:"25.4 x 1.2mm", w:0.72}, {s:"25.4 x 1.6mm", w:0.94}, {s:"25.4 x 2.0mm", w:1.15},
    {s:"31.8 x 1.6mm", w:1.19}, {s:"31.8 x 2.0mm", w:1.47}, {s:"31.8 x 2.3mm", w:1.67},
    {s:"38.1 x 1.6mm", w:1.44}, {s:"38.1 x 2.0mm", w:1.78}, {s:"38.1 x 2.3mm", w:2.03},
    {s:"50.8 x 1.6mm", w:1.94}, {s:"50.8 x 2.0mm", w:2.41}, {s:"50.8 x 2.3mm", w:2.75},
    {s:"63.5 x 2.3mm", w:3.47}, {s:"63.5 x 3.2mm", w:4.76},
    {s:"76.2 x 2.3mm", w:4.19}, {s:"76.2 x 3.2mm", w:5.76}, {s:"101.6 x 3.2mm", w:7.76},

    // A 配管系列 (英吋標示)
    {s:"1/2\" (21.7x2.8mm)", w:1.31}, {s:"3/4\" (27.2x2.8mm)", w:1.68},
    {s:"1\" (34.0x3.2mm)", w:2.43}, {s:"1-1/4\" (42.7x3.5mm)", w:3.38},
    {s:"1-1/2\" (48.6x3.5mm)", w:3.89}, {s:"2\" (60.5x3.8mm)", w:5.31},
    {s:"2-1/2\" (76.3x5.2mm)", w:9.12}, {s:"3\" (89.1x5.5mm)", w:11.3},
    {s:"4\" (114.3x6.0mm)", w:16.0}, {s:"5\" (139.8x6.6mm)", w:21.7},
    {s:"6\" (165.2x7.1mm)", w:27.7}, {s:"8\" (216.3x8.2mm)", w:42.1}]
        };

        function initSpec() {
    const cat = document.getElementById('mainCat').value;
    const select = document.getElementById('specSelect');
    const inputs = document.getElementById('dynamicInputs');
    select.innerHTML = "";
    
    DB[cat].forEach(item => {
        let opt = document.createElement('option');
        opt.value = item.w; opt.text = item.s;
        select.appendChild(opt);
    });

    // 🚀 關鍵修正：若類別包含 PLATE (板材) 或為 EXPANDED_XG (擴張網)，則顯示寬/長/數量
    if (cat.includes("PLATE") || cat === "EXPANDED_XG") {
        inputs.innerHTML = `
            <div class="input-group"><label>寬 W (mm)</label><input type="number" id="valW" value="1219" class="input-field" oninput="calculate()"></div>
            <div class="input-group"><label>長 L (mm)</label><input type="number" id="valL" value="2438" class="input-field" oninput="calculate()"></div>
            <div class="input-group"><label>數量 (件)</label><input type="number" id="valQty" value="1" class="input-field" oninput="calculate()"></div>`;
    } else {
        inputs.innerHTML = `
            <div class="col-span-2 input-group"><label>長度 Length (mm)</label><input type="number" id="valL" value="6000" class="input-field" oninput="calculate()"></div>
            <div class="input-group"><label>數量 (件)</label><input type="number" id="valQty" value="1" class="input-field" oninput="calculate()"></div>`;
    }
    calculate();
}

       function calculate() {
    const cat = document.getElementById('mainCat').value;
    const unitW = parseFloat(document.getElementById('specSelect').value);
    const qty = parseFloat(document.getElementById('valQty').value) || 0;
    const L = parseFloat(document.getElementById('valL').value) || 0;
    const waste = 1 + (parseFloat(document.getElementById('valWaste').value) / 100);
    const pricePerKg = parseFloat(document.getElementById('valPrice').value) || 0;
    
    let single = 0;
    // 🚀 關鍵修正：計算邏輯同步加入 EXPANDED_XG
    if (cat.includes("PLATE") || cat === "EXPANDED_XG") {
        const W = parseFloat(document.getElementById('valW').value) || 0;
        single = (W/1000) * (L/1000) * unitW; // 寬(m) * 長(m) * 單位重(kg/m²)
        document.getElementById('infoUnit').innerText = unitW.toFixed(2) + " kg/m²";
    } else {
        single = (L/1000) * unitW; // 長(m) * 單位重(kg/m)
        document.getElementById('infoUnit').innerText = unitW.toFixed(2) + " kg/m";
    }
    
    const total = single * qty * waste;
    document.getElementById('resTotal').innerText = total.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
    document.getElementById('infoSingle').innerText = single.toFixed(2) + " kg";
    document.getElementById('resPrice').innerText = Math.round(total * pricePerKg).toLocaleString();
}

        function resetForm() {
            document.getElementById('valWaste').value = 0;
            document.getElementById('valPrice').value = "";
            initSpec();
        }

        function copyResult() {
            const spec = document.getElementById('specSelect').selectedOptions[0].text;
            const weight = document.getElementById('resTotal').innerText;
            const price = document.getElementById('resPrice').innerText;
            const text = `【鋼鐵重量計算結果】\n規格：${spec}\n總重量：${weight} KG\n預估金額：$${price} TWD\n(含損耗計算)`;
            navigator.clipboard.writeText(text).then(() => alert('詳細結果已複製至剪貼簿'));
        }
        function shareToLine() {
            const spec = document.getElementById('specSelect').selectedOptions[0].text;
            const weight = document.getElementById('resTotal').innerText;
            const price = document.getElementById('resPrice').innerText;
            // 自動帶入您的正式網域
            const currentUrl = "https://steel-calc.idv.tw";
            
            const text = `【鋼鐵重量計算結果】\n規格：${spec}\n總重量：${weight} KG\n預估金額：$${price} TWD\n\n線上試算工具：\n${currentUrl}`;
            
            // 開啟 Line 分享頁面
            window.open(`https://line.me/R/msg/text/?${encodeURIComponent(text)}`, '_blank');
        }

        initSpec();
    </script>
</body>
</html>
